@import "@basecamp/registry/theme";

/* Scan registry components for Tailwind classes */
@source "../../../registry/src";
@source "./src/components";
@source "./src/registry";

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@utility dotted-bg {
  --dot-color: #0008;
  --dot-size: 0.9px;
  --dot-step: 24px;
  --dot-stop: calc(
    var(--dot-size) - min(0.5px, 1px / var(--device-pixel-ratio))
  );
  background-size: var(--dot-step) var(--dot-step);
  background-position: calc(50% + var(--dot-step) / 2) 0;
  background-image: radial-gradient(
    var(--dot-step) circle,
    var(--dot-color) var(--dot-stop),
    transparent var(--dot-size)
  );
}

@utility progressive-blur-mask-to-t {
  mask: linear-gradient(
    to top,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.5) 20%,
    rgba(0, 0, 0, 1) 100%
  );
}

/* Syntax highlighting for shiki - dual theme support */
/* Light theme styles (already inline, but ensuring proper inheritance) */
pre[style*="--shiki-light-bg"] {
  background-color: var(--shiki-light-bg, #ffffff) !important;
}

span[style*="--shiki-light"] {
  color: var(--shiki-light, inherit);
}

/* Dark theme overrides for code blocks */
.dark pre[style*="--shiki-dark-bg"] {
  background-color: var(--shiki-dark-bg) !important;
  color: var(--shiki-dark) !important;
}

.dark span[style*="--shiki-dark"] {
  color: var(--shiki-dark) !important;
}
